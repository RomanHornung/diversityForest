require(diversityForest)
## Diversity forest with default settings (NOT recommended)
ui <- divfor(Species ~ ., data = iris, write.forest = TRUE)
## Diversity forest with specified values for nsplits and proptry (NOT recommended)
divfor(Species ~ ., data = iris, nsplits = 10, proptry = 0.4)
## Applying diversity forest after optimizing the values of nsplits and proptry (recommended)
tuneres <- tunedivfor(formula = Species ~ ., data = iris)
divfor(Species ~ ., data = iris, nsplits = tuneres$nsplitsopt, proptry = tuneres$proptryopt)
## Prediction
train.idx <- sample(nrow(iris), 2/3 * nrow(iris))
iris.train <- iris[train.idx, ]
iris.test <- iris[-train.idx, ]
tuneres <- tunedivfor(formula = Species ~ ., data = iris.train)
rg.iris <- divfor(Species ~ ., data = iris.train, nsplits = tuneres$nsplitsopt,
                  proptry = tuneres$proptryopt)
pred.iris <- predict(rg.iris, data = iris.test)
table(iris.test$Species, pred.iris$predictions)
## Variable importance
rg.iris <- divfor(Species ~ ., data = iris, importance = "permutation")
rg.iris$variable.importance
## Alternative interface
divfor(dependent.variable.name = "Species", data = iris)
